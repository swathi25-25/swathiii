<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI Interview Simulator | Pro Edition</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

<style>
*{
margin:0;
padding:0;
box-sizing:border-box;
font-family:'Poppins',sans-serif;
}

body{
background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
display:flex;
justify-content:center;
align-items:center;
height:100vh;
color:white;
}

.container{
width:95%;
max-width:950px;
background:rgba(0,0,0,0.85);
padding:35px;
border-radius:18px;
box-shadow:0 0 40px rgba(0,255,255,0.3);
}

h1{
text-align:center;
margin-bottom:20px;
font-weight:600;
}

.top-section{
display:flex;
justify-content:space-between;
align-items:center;
gap:20px;
}

select{
padding:10px;
border-radius:8px;
border:none;
font-size:15px;
}

.timer{
font-size:18px;
font-weight:600;
color:#00ffcc;
}

.question-box{
margin-top:25px;
font-size:18px;
min-height:60px;
}

textarea{
width:100%;
margin-top:20px;
padding:15px;
border-radius:10px;
border:none;
font-size:15px;
resize:none;
}

button{
margin-top:20px;
padding:12px;
width:100%;
border:none;
border-radius:8px;
background:#00c6ff;
font-weight:600;
cursor:pointer;
transition:0.3s;
}

button:hover{
background:#00ffcc;
}

.result{
margin-top:20px;
padding:15px;
border-radius:8px;
font-size:15px;
}

.score-board{
margin-top:15px;
font-weight:600;
}

.progress-bar{
height:8px;
background:#333;
border-radius:10px;
margin-top:8px;
overflow:hidden;
}

.progress{
height:100%;
width:0%;
background:#00ffcc;
transition:0.3s;
}
</style>
</head>

<body>

<div class="container">

<h1>AI Interview Simulator</h1>

<div class="top-section">
<select id="roleSelect">
<option value="Software Engineer">Software Engineer</option>
<option value="Data Scientist">Data Scientist</option>
<option value="Cloud Engineer">Cloud Engineer</option>
<option value="Cyber Security Analyst">Cyber Security Analyst</option>
<option value="HR Manager">HR Manager</option>
<option value="Business Analyst">Business Analyst</option>
<option value="AI/ML Engineer">AI/ML Engineer</option>
<option value="Digital Marketing Manager">Digital Marketing Manager</option>
</select>

<div class="timer" id="timer">Time: 00</div>
</div>

<button onclick="startInterview()">Start Interview</button>

<div class="question-box" id="questionBox"></div>

<textarea id="answerBox" rows="5" placeholder="Type your professional answer here..."></textarea>

<button onclick="submitAnswer()">Submit Answer</button>

<div class="result" id="resultBox"></div>

<div class="score-board" id="scoreBoard"></div>

<div class="progress-bar">
<div class="progress" id="progress"></div>
</div>

</div>

<script>

let timer;
let timeLeft = 45;
let score = 0;
let totalAsked = 0;
let usedQuestions = [];
let currentQuestion = "";

/* üîπ Modified Question Bank with Keywords */
const questionBank = {

"Software Engineer": [
{q:"Explain OOPS principles.", keywords:["encapsulation","inheritance","polymorphism","abstraction","class","object"]},
{q:"What is REST API?", keywords:["http","api","stateless","client","server"]},
{q:"What is multithreading?", keywords:["thread","parallel","concurrent","process","cpu"]},
{q:"What is database normalization?", keywords:["normalization","redundancy","database","table"]}
],

"Data Scientist": [
{q:"What is overfitting?", keywords:["model","training","testing","variance","generalization"]},
{q:"Explain bias vs variance.", keywords:["bias","variance","error","underfitting","overfitting"]},
{q:"Explain cross validation.", keywords:["validation","fold","dataset","accuracy"]}
]

};

function startInterview(){

let role = document.getElementById("roleSelect").value;
let questions = questionBank[role];

let available = questions.filter(q=>!usedQuestions.includes(q.q));

if(!questions || available.length===0){
document.getElementById("questionBox").innerHTML="Interview Completed!";
return;
}

let randomIndex=Math.floor(Math.random()*available.length);
currentQuestion=available[randomIndex];
usedQuestions.push(currentQuestion.q);
totalAsked++;

document.getElementById("questionBox").innerHTML="<b>Question:</b> "+currentQuestion.q;
document.getElementById("resultBox").innerHTML="";
document.getElementById("answerBox").value="";

startTimer();
}

function startTimer(){
clearInterval(timer);
timeLeft=45;
updateTimer();

timer=setInterval(()=>{
timeLeft--;
updateTimer();
if(timeLeft<=0){
clearInterval(timer);
evaluateAnswer();
}
},1000);
}

function updateTimer(){
document.getElementById("timer").innerHTML="Time: "+timeLeft+"s";
}

function submitAnswer(){
clearInterval(timer);
evaluateAnswer();
}

/* üîπ ONLY THIS PART MODIFIED FOR RELEVANCE */

function evaluateAnswer(){

let answer=document.getElementById("answerBox").value.trim().toLowerCase();
let result=document.getElementById("resultBox");

if(answer.length<20){
result.style.background="#8B0000";
result.innerHTML="Answer too short. Improve your explanation.";
return;
}

/* üîé Relevance Check */
let matchCount = 0;

currentQuestion.keywords.forEach(keyword=>{
if(answer.includes(keyword)){
matchCount++;
}
});

/* ‚ùå If No Keyword Match ‚Üí Irrelevant */
if(matchCount === 0){
result.style.background="#8B0000";
result.innerHTML="<b>Irrelevant Answer ‚ùå</b><br>Please answer according to the question asked.";
return;
}

/* ‚úÖ If Relevant ‚Üí Original Grading System */

let grade,feedback,points;

if(answer.length>180){
grade="A+";
feedback="Outstanding detailed professional answer.";
points=10;
}
else if(answer.length>120){
grade="A";
feedback="Strong answer with clarity and depth.";
points=8;
}
else if(answer.length>70){
grade="B";
feedback="Good answer but add more technical depth.";
points=6;
}
else{
grade="C";
feedback="Basic response. Needs improvement.";
points=4;
}

score+=points;

result.style.background="#004d40";
result.innerHTML="<b>Grade:</b> "+grade+"<br><b>Feedback:</b> "+feedback;

document.getElementById("scoreBoard").innerHTML=
"Score: "+score+" | Questions Attempted: "+totalAsked;

document.getElementById("progress").style.width=
(totalAsked*12)+"%";
}

</script>

</body>
</html>
